
מסמך אפיון מלא – מערכת משמרות "בייגל קפה רמת אשכול"
====================================================

1. תקציר כללי
-------------
המערכת מאפשרת ניהול משמרות, הגשת זמינות, שיבוץ אוטומטי, ממשק מנהל, ניהול אירועים, משימות שבועיות,
שליחת הודעות וואטסאפ, החלפת משמרות בין עובדים, ותמיכה מלאה לעסק "בייגל קפה רמת אשכול".

2. תכונות מרכזיות
------------------
- מערכת כניסה לעובדים ולמנהל (שם משתמש + סיסמה).
- הגשת זמינות שבועית של לפחות 6 משמרות.
- שיבוץ אוטומטי מבוסס AI.
- תצוגת לוח משמרות שבועי מלא.
- ממשק מנהל לשליטה מלאה: הוספת עובדים, עריכה, מחיקה, אירועים, משימות.
- זיהוי ימים מיוחדים (ראש חודש, אירועים).
- שליחת משימות ומשמרות יומיות לוואטסאפ.
- אפשרות להחלפת משמרות באישור אחד מהשני.

3. תפקידים במערכת
------------------
### עובד:
- צפייה במשמרות.
- הגשת זמינות.
- בקשת החלפת משמרת.
- קבלת התראות ווואטסאפ יומי.

### מנהל:
- הוספה/מחיקה/עריכה של עובדים.
- ניהול אירועים.
- הגדרת משימות שבועיות.
- צפייה בתקלות וחריגות.
- שיבוץ אוטומטי/ידני.

4. מבנה נתונים בסיסי (DB Models)
--------------------------------
Employees:
- id
- fullName
- username
- passwordHash
- phoneNumber
- role (worker/manager)
- defaultShiftStart
- minShiftsPerWeek (ברירת מחדל 6)
- isActive

ShiftRequests:
- employeeId
- date
- availability (yes/no)
- priority

AssignedShifts:
- employeeId
- date
- startTime
- endTime
- status
- source (AUTO/MANUAL)

SwapRequests:
- fromEmployee
- toEmployee
- shiftId
- status

Events:
- name
- date
- extraEmployeesNeeded

Tasks:
- title
- description
- dayOfWeek
- weeklyAssign(employeeId, week)

5. שיבוץ אוטומטי (AI)
----------------------
- כיבוד זמינות.
- העדפות לפי שעת התחלה קבועה:
  - מתן – 05:30
  - אחמד – 06:00
  - שירה – 07:00
  - עודי – 14:00–21:00
- לכל עובד מינימום 6 משמרות בשבוע.
- ימים מיוחדים דורשים יותר עובדים.
- ניסיונות שיפור לאחר השיבוץ הראשוני.

6. זרימת החלפת משמרות
----------------------
1. עובד מגיש בקשה להחלפה.
2. עובד אחר מאשר.
3. אפשרות: צריך אישור מנהל / אישור אוטומטי.
4. המשמרת מתעדכנת במערכת.

7. וואטסאפ יומי
---------------
- שליחת הודעה ב־04:00 לכל עובד:
  "שלום X, היום את/ה במשמרת Y. משימות היום: ..."

8. מסכי מערכת
--------------
Login
Worker Dashboard
Manager Dashboard
Submit Availability
Swap Shifts
Schedule View
Manage Employees
Manage Events
Manage Tasks

9. לוח משמרות
--------------
- טבלה שבועית עם גרירה ושיבוץ.
- הצגה ברורה של כל העובדים:
  נפתלי, אחמד, עודי, שירה, מתן.

10. מבנה פרויקט React
----------------------
src/
  pages/
  components/
  hooks/
  api/
  contexts/
  styles/
  utils/

11. מבנה שרת Node.js
---------------------
routes/
controllers/
models/
middleware/
services/
utils/

12. דרישות כלליות
-----------------
- המערכת צריכה להיות מהירה ויציבה.
- בעלת ממשק גרפי מתקדם ונוח.
- תמיכה במובייל.
- אפשרות הרחבה עתידית.

סוף מסמך.
